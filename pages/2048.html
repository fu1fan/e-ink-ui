<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./src/bootstrap.min.css">
    <link rel="stylesheet" href="./src/paper.css">
    <title>2048</title>
</head>

<body>
    <div>
        <span><a href="javascript:backToMain()">&nbsp;&lt;</a> 2048</span>
    </div>
    <div class="row">


        <div class="gamearea col-4">
            <div class="row">
                <div class="col-3 grid">0</div>
                <div class="col-3 grid">0</div>
                <div class="col-3 grid">0</div>
                <div class="col-3 grid">0</div>
            </div>
            <div class="row">
                <div class="col-3 grid">0</div>
                <div class="col-3 grid">0</div>
                <div class="col-3 grid">0</div>
                <div class="col-3 grid">0</div>
            </div>
            <div class="row">
                <div class="col-3 grid">0</div>
                <div class="col-3 grid">0</div>
                <div class="col-3 grid">0</div>
                <div class="col-3 grid">0</div>
            </div>
            <div class="row">
                <div class="col-3 grid">0</div>
                <div class="col-3 grid">0</div>
                <div class="col-3 grid">0</div>
                <div class="col-3 grid">0</div>
            </div>
        </div>
        <div class="gamecontrol col-8 text-center">
            <button id="up">up</button><br>
            <div class="mt-1 mb-1">
                <button id="left">left</button> <button id="right">right</button><br>
            </div>
            <button id="down">down</button><br>
            <button id="start" class="mt-1">start</button>
        </div>
    </div>
    <script src="./src/jquery.min.js"></script>
    <script>
        var grid = [
            [0,0,0,0],
            [0,0,0,0],
            [0,0,0,0],
            [0,0,0,0]
        ]


        function showGrid(){
            $(".grid").each(function(index, element){
                var num = grid[Math.floor(index/4)][index%4]
                if(num == 0){
                    $(element).text("â–¡")
                }else{
                    $(element).text(num)
                }
            });
        }

        //generate a random number between a and b
        function randint(a, b) {
            return Math.floor(Math.random() * (b - a + 1) + a);
        }

        //new game
        function startGame() {
            addTile()
            addTile()
            showGrid()
        }

        function addTile() {
            var empty = []
            for (var i = 0; i < 4; i++) {
                for (var j = 0; j < 4; j++) {
                    if (grid[i][j] == 0) {
                        empty.push([i, j])
                    }
                }
            }
            if (empty.length == 0) {
                return
            }
            var index = randint(0, empty.length - 1)
            var twoOrFour = randint(0, 1)*2 + 2
            grid[empty[index][0]][empty[index][1]] = twoOrFour    
        }

        $("#start").click(function () {
            startGame();
        })

        function moveUp() {
            for (var j = 0; j < 4; j++){
                for (var i = 1; i < 4; i++){
                    
                }
            }
        }


        $("#up").click(function () {
            moveUp()
            addTile()
            showGrid()
        })

        $("#down").click(function () {
            moveDown()
            addTile()
            showGrid()
        })

        $("#left").click(function () {
            moveLeft()
            addTile()
            showGrid()
        })

        $("#right").click(function () {
            moveRight()
            addTile()
            showGrid()
        })



        

    </script>
</body>

</html>